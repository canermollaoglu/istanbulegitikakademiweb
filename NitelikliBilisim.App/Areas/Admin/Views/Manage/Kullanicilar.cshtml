
@{
    ViewData["Title"] = "Kullanicilar";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}

<div class="row justify-content-center">
    <div class="col">
        <div id="grid"></div>
    </div>
</div>
@section Scripts
{
    <script>
        $(function() {
            var url = "../../../api/data";
            $("#grid").dxDataGrid({
                dataSource: DevExpress.data.AspNet.createStore({
                    key: "id",
                    loadUrl: url + "/GetUserData",
                    onBeforeSend: function(method, ajaxOptions) {
                        ajaxOptions.xhrFields = { withCredentials: true };
                        // console.log(ajaxOptions);
                    }
                }),
                editing: {
                    refreshMode: "full",
                    mode: "popup",
                    allowAdding: false,
                    allowUpdating: true,
                    allowDeleting: false           
                },
                remoteOperations: true, 
                filterRow: {
                    visible: true
                },
                headerFilter: {
                    visible: true
                },
                searchPanel: {
                    visible: true,
                    width: 240,
                    placeholder: "Ara..."
                },
                columnAutoWidth: true,
                showBorders: true,
                paging: {
                    pageSize: 10
                },
                pager: {
                    showPageSizeSelector: true,
                    allowedPageSizes: [5, 15, 30, 45],
                    showInfo: true
                },
                export: {
                    enabled: true,
                    fileName: "Kullanicilar_" + parseInt(Math.random() * 1000000000),
                    allowExportSelectedData: true
                }
            });
        });
    </script>
}
